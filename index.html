<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CampusMart</title>
  <link rel="stylesheet" href="style.css">
  
  <link rel="stylesheet" href="style2.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

</head>

<body>
  <header id="navbar-container">
    <nav class="market-navbar">
      <div class="market-navbar__container">
        <div class="market-navbar__logo" onclick="window.location.href='index.html'">
          <img src="EKD logo.png" alt="CampusMart Logo" class="market-navbar__logo-img" />
          <span class="market-navbar__brand">CampusMart</span>
        </div>
        <div class="market-navbar__searchbar">
          <select class="market-navbar__select" id="categoryFilter" aria-label="Category">
            <option value="All">All</option>
            <option value="Electronics">Electronics</option>
            <option value="Books">Books</option>
            <option value="Calculators">Calculators</option>
            <option value="Stationery">Stationery</option>
            <option value="Laptops">Laptops</option>
            <option value="Smartphones">Smartphones</option>
            <option value="Gaming">Gaming</option>
            <option value="Beauty">Beauty</option>
            <option value="Pets">Pets</option>
            <option value="Clothing">Clothing</option>
            <option value="Accessories">Accessories</option>
            <option value="Home Essentials">Home Essentials</option>
            <option value="Art & Craft">Art & Craft</option>
            <option value="Furniture">Furniture</option>
            <option value="Sports">Sports</option>
            <option value="Music">Music</option>
            <option value="Kitchen">Kitchen</option>
            <option value="Toys">Toys</option>
            <option value="Other">Other</option>
          </select>
          <div class="market-navbar__search-wrapper">
            <input type="text" class="market-navbar__search" id="searchInput" placeholder="Search products..."
              aria-label="Search products">
          </div>
        </div>
        <ul class="market-navbar__links" id="marketNavbarLinks">
          <li><a href="index.html">Home</a></li>
          <li><a href="#shopSection">Shop</a></li>
          <li><a href="#sell">Sell</a></li>
        </ul>
        <div class="market-navbar__actions">
          <div class="market-navbar__cart" onclick="window.location.href='cart.html'" title="My Orders"
            aria-label="My Orders">
            <i class="fa-solid fa-cart-shopping"></i>
            <span class="cart-label">My Orders</span>
          </div>

          <span id="userEmail" style="display:none; color: #ebece7;"></span>

          <button id="navbarLoginBtn" class="market-navbar__btn">Login</button>
          <button id="logoutBtn" class="market-navbar__btn" style="display:none;">Logout</button>

          <div id="recaptcha-container"></div>
        </div>

        <button class="market-navbar__hamburger" id="marketNavbarHamburger" aria-label="Toggle navigation">
          <span></span><span></span><span></span>
        </button>
      </div>
    </nav>
  </header>

  <div id="mobileTray" class="mobile-tray">
    <button class="tray-close-btn" id="closeTrayBtn">&times;</button>

    <div class="tray-section" id="trayUserId">Your ID: <span id="trayUserEmail">Not logged in</span></div>

    <button class="tray-btn" id="trayCartBtn"><i class="fa fa-shopping-cart"></i> My Orders</button>
    <button class="tray-btn" id="trayAdminBtn"><i class="fa fa-user-shield"></i> Admin</button>
    <button class="tray-btn" id="trayLoginBtn"><i class="fa fa-sign-in-alt"></i> Login</button>
    <button class="tray-btn" id="trayLogoutBtn" style="display:none;"><i class="fa fa-sign-out-alt"></i> Logout</button>
  </div>

  <section class="hero-section">
    <!-- Banner -->
    <div class="demo-banner">
      üß™ <strong>CampusMart Demo Week!</strong> Try buying demo products like laptops or phones ‚Äî ‚Çπ0 cost.
      <br>Use Pay ID: <strong>pay_12345678</strong> at checkout! No real money will be deducted.
    </div>

    <div class="hero-content">
      <h1 class="hero-title">Welcome to CampusMart</h1>
      <p class="hero-subtitle">Your trusted campus marketplace for buying and selling essentials, gadgets, books, and
        more.
      </p>
      <div class="hero-actions">
        <a href="#shopSection" class="hero-btn">Shop Now</a>
        <a href="#sell" class="hero-btn hero-btn-outline">Sell Your Product</a>
      </div>
    </div>
    <svg class="hero-wave" viewBox="0 0 1440 320">
      <path fill="#f8fafc" fill-opacity="1"
        d="M0,224L48,202.7C96,181,192,139,288,144C384,149,480,203,576,197.3C672,192,768,128,864,117.3C960,107,1056,149,1152,176C1248,203,1344,213,1392,218.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
      </path>
    </svg>
  </section>
  <div class="main-content">

    <section class="product-section">
      <h1 class="available-items-heading">Available Items</h1>
      <div class="filter-sort-bar">
        <div class="filter-group">
          <button id="filterBtn" class="filter-btn">Filter <i class="fa fa-filter"></i></button>
          <div id="filterDropdown" class="filter-dropdown">
            <label><input type="checkbox" class="filter-category" value="Electronics"> Electronics</label>
            <label><input type="checkbox" class="filter-category" value="Books"> Books</label>
            <label><input type="checkbox" class="filter-category" value="Stationery"> Stationery</label>
            <label><input type="checkbox" class="filter-category" value="Laptops"> Laptops</label>
            <label><input type="checkbox" class="filter-category" value="Smartphones"> Smartphones</label>
            <label><input type="checkbox" class="filter-category" value="Clothing"> Clothing</label>
            <label><input type="checkbox" class="filter-category" value="Accessories"> Accessories</label>
            <label><input type="checkbox" class="filter-category" value="Other"> Other</label>
            <hr>
            <label>Price Range:</label>
            <input type="number" id="minPrice" placeholder="Min ‚Çπ" style="width:70px;"> -
            <input type="number" id="maxPrice" placeholder="Max ‚Çπ" style="width:70px;">
            <button id="applyFilterBtn" class="apply-btn">Apply</button>
          </div>
        </div>
        <div class="sort-group">
          <label for="sortSelect">Sort by:</label>
          <select id="sortSelect" class="sort-select">
            <option value="recent">Most Recently Added</option>
            <option value="low">Price: Low to High</option>
            <option value="high">Price: High to Low</option>
            <option value="az">Name: A-Z</option>
            <option value="za">Name: Z-A</option>
          </select>
        </div>
      </div>

      <!-- Product Cards Section (shop-section) -->
      <section class="shop-section" id="shopSection">

      </section>

      <div id="product-loading-spinner" style="display:none;text-align:center;margin:30px 0;">
        <i class="fa fa-spinner fa-spin" style="font-size:2.5rem;color:#ffb74d;"></i>
        <div style="margin-top:10px;color:#888;font-size:1.1rem;">Loading products...</div>
      </div>

      <div class="seller-demo-banner">
        üéØ Want to try CampusMart as a seller? Upload a <strong>demo product</strong> now!<br>
        <ul>
          <li>Product Name: <strong>Demo Product</strong></li>
          <li>Price: ‚Çπ0</li>
          <li>Category: Other</li>
          <li>Use your real name & mobile</li>
          <li>No listing charge</li>
        </ul>
        <a href="demo_product.png" download class="demo-download-btn">‚¨á Download Demo Image</a>
        <!-- üîä AUDIO -->
        <!-- AUDIO ELEMENT -->
        <audio id="demoSound" src="demo_intro.mp3" preload="auto"></audio>
        <script>
          window.addEventListener('DOMContentLoaded', () => {
            const demoSound = document.getElementById('demoSound');
            const popup = document.getElementById('demoWelcomePopup');
            const gotItButton = popup?.querySelector('button'); // Target the "Got it!" button

            if (!localStorage.getItem('demoPopupShown')) {
              popup.style.display = 'flex';
              localStorage.setItem('demoPopupShown', 'true');

              // When user clicks "Got it!", play the sound
              gotItButton?.addEventListener('click', () => {
                demoSound.play().then(() => {
                  console.log("‚úÖ Audio played on 'Got it' click");
                }).catch((err) => {
                  console.error("‚ùå Could not play audio:", err);
                });

                // Hide popup after click
                popup.style.display = 'none';
              });
            }
          });
        </script>






        <button onclick="autoFillDemoListing()" class="demo-autofill-btn">‚ú® Create Demo Listing</button>
      </div>
      <script>
        function autoFillDemoListing() {
          document.getElementById("productName").value = "Demo Product";
          document.getElementById("productCategory").value = "Other";
          document.getElementById("productPrice").value = "0";
          document.getElementById("productDescription").value = "This is a demo product listing. No real listing fees or payment.";
        }
      </script>

      <!-- SELL PRODUCT (separate section) -->
      <section id="sell" class="sell-section">
        <div class="sell-container">
          <h2 class="sell-heading">Sell Your Product</h2>
          <p class="sell-subtitle">Fill the details below and reach thousands of customers!</p>

          <form id="sellForm" class="sell-form">
            <div class="form-group">
              <input type="text" id="productName" placeholder="Product Name" required>
            </div>

            <div class="form-group">
              <select id="productCategory" required>
                <option value="">Select a category</option>
                <option value="Electronics">Electronics</option>
                <option value="Books">Books</option>
                <option value="Calculators">Calculators</option>
                <option value="Stationery">Stationery</option>
                <option value="Laptops">Laptops</option>
                <option value="Smartphones">Smartphones</option>
                <option value="Gaming">Gaming</option>
                <option value="Beauty">Beauty</option>
                <option value="Clothing">Clothing</option>
                <option value="Accessories">Accessories</option>
                <option value="Art & Craft">Art & Craft</option>
                <option value="Sports">Sports</option>
                <option value="Music">Music</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <input type="number" id="productPrice" placeholder="Price (in ‚Çπ)" required>
            </div>

            <div class="form-group">
              <textarea id="productDescription" placeholder="Description" rows="4" required></textarea>
            </div>

            <div class="form-group">
              <input type="file" id="imageFile" accept="image/*" required>
            </div>

            <!-- Seller Details -->
            <div class="form-group">
              <input type="text" id="sellerName" placeholder="Your Name" required>
            </div>

            <div class="form-group">
              <input type="tel" id="sellerMobile" placeholder="Your Mobile Number" required>
            </div>

            <!-- Loader -->
            <div id="loading-spinner" style="display: none;">
              <p>Submitting...</p>
            </div>

            <button type="submit" class="sell-btn">Submit Product</button>
          </form>
        </div>
      </section>
      <!-- instruction -->

      <div class="seller-instructions-box">
        <h3>üë§ Seller Guidelines</h3>
        <ul>
          <li><span class="icon">‚úÖ</span> Login & fill out the product form.</li>
          <li><span class="icon">üí∞</span> Pay listing fee (first month free!).</li>
          <li><span class="icon">üìß</span> Check your email for listing confirmation.</li>
          <li><span class="icon">ü§ù</span> Meet buyer & show the product.</li>
          <li><span class="icon">‚ùå</span> <strong>Do not take payment directly from the buyer.</strong></li>
          <li><span class="icon">üîí</span> Buyer‚Äôs money is safe & sent to you after their confirmation.</li>
        </ul>
      </div>

      <div id="sellerPaymentStatus" style="display:none; margin-top:20px; font-weight:bold;"></div>
  </div>
<script>
  fetch("footer.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("footer-container").innerHTML = data;
    });
</script>
<div id="footer-container"></div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />


 
  <!-- Login Modal -->

  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="document.getElementById('loginModal').style.display='none'">&times;</span>
      <h2>Login or Register</h2>

      <!-- Email Login -->
      <input type="email" id="authEmail" placeholder="Enter your email">
      <input type="password" id="authPassword" placeholder="Enter your password">

      <!-- Google Login -->
      <button id="googleLoginBtn" class="google-btn"
        style="display:flex;align-items:center;gap:10px;justify-content:center;width:100%;padding:10px 0;margin:18px 0 10px 0;background:#fff;border:1px solid #ccc;border-radius:6px;cursor:pointer;transition:box-shadow 0.2s;box-shadow:0 1px 4px rgba(0,0,0,0.04);">
        <svg class="google-icon" width="24" height="24" viewBox="0 0 48 48"
          style="width:24px;height:24px;display:inline-block;vertical-align:middle;flex-shrink:0;">
          <g>
            <path fill="#4285F4"
              d="M43.6 20.5h-1.9V20H24v8h11.3c-1.5 4-5.2 7-9.3 7-5.5 0-10-4.5-10-10s4.5-10 10-10c2.4 0 4.6 0.9 6.3 2.3l6.1-6.1C34.5 8.1 29.5 6 24 6 13.5 6 5 14.5 5 25s8.5 19 19 19c10.5 0 19-8.5 19-19 0-1.3-0.1-2.7-0.4-4z" />
            <path fill="#34A853"
              d="M24 44c5.1 0 9.4-1.7 12.5-4.7l-6.1-5.1c-1.7 1.1-3.8 1.8-6.4 1.8-4.1 0-7.8-2.7-9.1-6.4H8.2v5.3C11.3 40.3 17.2 44 24 44z" />
            <path fill="#FBBC05"
              d="M14.9 29.6c-0.4-1.1-0.7-2.3-0.7-3.6s0.3-2.5 0.7-3.6v-5.3H8.2C7.1 19.7 6 22.2 6 25s1.1 5.3 2.2 7.4l6.7-5.8z" />
            <path fill="#EA4335"
              d="M24 14.5c2.6 0 4.9 0.9 6.7 2.7l5-5C32.9 9.1 28.7 7 24 7c-6.8 0-12.7 3.7-15.8 9.3l6.7 5.3c1.3-3.7 5-6.4 9.1-6.4z" />
            <path fill="none" d="M0 0h48v48H0z" />
          </g>
        </svg>
        <span style="font-size:1.05rem;color:#222;font-weight:500;display:inline-block;vertical-align:middle;">Sign in
          with Google</span>
      </button>
      <!-- Buttons -->
      <div class="btn-group">
        <button id="loginBtn">Login</button>
        <button id="registerBtn">Sign Up</button>
      </div>
    </div>
  </div>

  <div id="adminLoginModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="document.getElementById('adminLoginModal').style.display='none'">&times;</span>
      <h2>Admin Login</h2>
      <input type="text" id="adminUsername" placeholder="Username">
      <input type="password" id="adminPassword" placeholder="Password">
      <button id="adminLoginSubmit" class="admin-btn">Login as Admin</button>

    </div>
  </div>

  <!-- 1st week banner -->
  <!-- Floating Animated Banner -->
  <div id="floatingBanner">
    <div class="banner-content">
      <span id="headlineText">üéâ <strong>0 Listing Fees</strong> for a Limited Time! Upload Free for 1 Week!</span>
      <div class="countdown" id="countdownTimer"></div>
    </div>
  </div>

  <!-- Banner Styling -->
  <style>
    #floatingBanner {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      color: #000;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      padding: 14px 24px;
      z-index: 9999;
      font-family: 'Segoe UI', sans-serif;
      max-width: 300px;
      animation: floatUpDown 3s ease-in-out infinite;
    }

    .banner-content {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    #headlineText {
      font-size: 16px;
      font-weight: 500;
      transition: opacity 0.5s ease-in-out;
    }

    .countdown {
      margin-top: 8px;
      font-size: 14px;
      color: #d10000;
      font-weight: bold;
    }

    @keyframes floatUpDown {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-6px);
      }
    }
  </style>

  <!-- Script: Countdown + Headline Rotator -->
  <script>
    // HEADLINES TO CYCLE THROUGH
    const headlines = [
      "üéâ <strong>0 Listing Fees</strong> for a Limited Time! Upload Free for 1 Week!",
      "üöÄ Join Now ‚Äì Post Products Without Paying!",
      "üî• One Week Free Listing! Boost Your Visibility",
      "üí∏ No Payment Required ‚Äì Explore Seller Features",
      "üì¢ Demo Week: Create Listings Absolutely Free!"
    ];

    let currentHeadline = 0;
    const headlineEl = document.getElementById("headlineText");

    setInterval(() => {
      currentHeadline = (currentHeadline + 1) % headlines.length;
      headlineEl.style.opacity = 0;
      setTimeout(() => {
        headlineEl.innerHTML = headlines[currentHeadline];
        headlineEl.style.opacity = 1;
      }, 400);
    }, 4000);

    // ‚úÖ UNIVERSAL COUNTDOWN TIMER (Fixed for all users)
    const countdown = document.getElementById("countdownTimer");

    // Set your universal offer end date here üëá
    const offerEndDate = new Date("2025-06-23T00:00:00").getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = offerEndDate - now;

      if (distance <= 0) {
        countdown.innerHTML = "üéâ Offer Ended!";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hrs = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const mins = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const secs = Math.floor((distance % (1000 * 60)) / 1000);

      countdown.innerHTML = `‚è≥ ${days}d ${hrs}h ${mins}m ${secs}s left`;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>



  <!-- chat bot -->
  <!-- Modern Floating Chatbot -->
  <div id="modern-chatbot">
    <div id="chat-toggle" title="Chat with us">‚ú®</div>

    <div id="chat-window" class="hidden">
      <div class="chat-header">
        <span>üßë‚Äçü§ñ SmartBot</span>
        <button id="chat-close">‚úï</button>
      </div>
      <div class="chat-body" id="faq-list">
        <!-- FAQ Buttons Render Here -->
      </div>
    </div>
  </div>

  <style>
    #modern-chatbot {
      position: fixed;
      bottom: 24px;
      right: 24px;
      font-family: 'Poppins', sans-serif;
      z-index: 9999;
    }

    #chat-toggle {
      background: linear-gradient(to right, #4facfe, #00f2fe);
      color: white;
      width: 58px;
      height: 58px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
      transition: all 0.3s;
    }

    #chat-toggle:hover {
      transform: scale(1.1);
    }

    #chat-window {
      width: 340px;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      display: none;
      flex-direction: column;
      position: absolute;
      bottom: 70px;
      right: 0;
    }

    #chat-window.active {
      display: flex;
    }

    .chat-header {
      background: #4facfe;
      color: #fff;
      padding: 14px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #chat-close {
      background: none;
      border: none;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
    }

    .chat-body {
      padding: 12px;
      max-height: 400px;
      overflow-y: auto;
    }

    .faq-button {
      display: block;
      width: 100%;
      text-align: left;
      padding: 10px 14px;
      background: #f3f3f3;
      border: none;
      border-radius: 10px;
      margin-bottom: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s;
      position: relative;
    }

    .faq-button:hover {
      background: #e2e2e2;
    }

    .faq-answer {
      background: #eef6ff;
      padding: 10px;
      margin-top: 6px;
      border-radius: 8px;
      color: #333;
      font-size: 14px;
      border: 1px solid #cce;
      display: none;
    }
  </style>

  <script>
    const chatToggle = document.getElementById('chat-toggle');
    const chatWindow = document.getElementById('chat-window');
    const chatClose = document.getElementById('chat-close');
    const faqList = document.getElementById('faq-list');

    const faqs = [
      ["üõí How to list a product?", "Go to the Sell section, fill in your product info, and submit. You‚Äôll be asked to pay a listing fee. After verification, your product goes live."],
      ["üí≥ How to confirm payment?", "After you list your product, a popup asks for UPI payment. Submit your UPI ID and screenshot. Our team verifies it manually."],
      ["ü§ù Is it possible to negotiate the listing fee?", "Yes, if your listing fee exceeds ‚Çπ1000, you may professionally discuss a revised amount with the admin."],
      ["üõí How can I buy a product?", "Click any product > Buy Now > enter your details and complete UPI payment. We‚Äôll process your order once verified."],
      ["üìè Where to enter UPI Reference ID?", "After payment, a popup appears asking for the UPI reference. Paste it there and click submit."],
      ["üñºÔ∏è How to upload payment screenshot?", "When the modal appears after payment, click the Upload Screenshot button and submit the image."],
    ["üì¨ Can I edit product after listing?", "Currently, edits are not supported. Please delete and re-list with changes. If you need help, contact us at üìû 8766880183 or üìß campusmart111@gmail.com."],
      ["üì§ What if payment fails?", "Retry your payment. If money was deducted, contact us with the reference ID & screenshot."],
      ["‚òéÔ∏è Contact support?", "Email: campusmart111@gmail.com or call us at 8766880183. We‚Äôre here to assist you anytime!"]
    ];

    faqs.forEach((faq, index) => {
      const wrapper = document.createElement('div');
      const btn = document.createElement('button');
      btn.classList.add('faq-button');
      btn.innerText = faq[0];

      const answer = document.createElement('div');
      answer.classList.add('faq-answer');
      answer.innerText = faq[1];

      btn.onclick = () => {
        const allAnswers = document.querySelectorAll('.faq-answer');
        allAnswers.forEach(a => a.style.display = 'none');
        answer.style.display = 'block';
      };

      wrapper.appendChild(btn);
      wrapper.appendChild(answer);
      faqList.appendChild(wrapper);
    });

    chatToggle.onclick = () => {
      chatWindow.classList.toggle('active');
    };

    chatClose.onclick = () => {
      chatWindow.classList.remove('active');
    };

    document.addEventListener('click', (e) => {
      if (!document.getElementById('modern-chatbot').contains(e.target) && chatWindow.classList.contains('active')) {
        chatWindow.classList.remove('active');
      }
    });
  </script>


  <div id="demoWelcomePopup" class="demo-popup">
    <div class="demo-popup-content">
      <h2>üéâ Welcome to CampusMart!</h2>
      <p>This is a <strong>demo version</strong>. Explore freely ‚Äî no real payments involved!</p>
      <button onclick="document.getElementById('demoWelcomePopup').style.display='none'">Got it!</button>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      if (!localStorage.getItem('demoPopupShown')) {
        document.getElementById('demoWelcomePopup').style.display = 'flex';
        localStorage.setItem('demoPopupShown', 'true');
      }
    });
  </script>



  <!-- 1st week banner -->
<script type="module" src="index.js"></script>

</body>

</html>